## 梯度更新

### 线性层

- 权重（weights）更新：计算的是所有样本对该权重的梯度贡献的总和，然后乘以学习率来更新权重。这种更新方式确保了每个权重都是基于批量中所有样本的梯度来更新的，而不是基于单个样本的梯度。

- 偏置（bias）更新：对所有样本的梯度进行平均。因为在批量（batch）中，每个样本都对偏置的更新有所贡献，而且这些贡献应该是平等的。

权重和偏置的更新方式不同，但都考虑了批量中所有样本的梯度。权重更新通过矩阵运算隐式地聚合了所有样本的梯度，而偏置更新通过对每个输出节点的梯度求均值来显式地聚合了所有样本的梯度。
